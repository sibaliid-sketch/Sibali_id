# Memcached configuration for alternative cache layer
# Pool sizing, slab allocations, and eviction policy

# Run as daemon
-d

# Log file
logfile /var/log/memcached.log

# Memory limit (256MB)
-m 256

# Default port
-p 11211

# User (if not root)
-u memcache

# Maximum connections
-c 1024

# Listen on specific IP
-l 127.0.0.1

# Disable UDP
-U 0

# Verbose logging
-vv

# Error logging
-vv 2>> /var/log/memcached-error.log

# Slab configuration for better memory utilization
# Page size 1MB, growth factor 1.25
-s 1048576
-f 1.25

# Maximum item size (1MB)
-I 1m

# Connection backlog
-b 1024

# Disable CAS
-C

# Memory allocation policy (aggressive)
-R 10

# Threads (based on CPU cores, adjust as needed)
-t 4

# Lock memory (if needed)
# -k

# Extended options for production
# Enable binary protocol
-B binary

# Maximum requests per event
-r 2048

# Disable nagle
-n

# Enable large memory pages (if supported)
# -L

# Stats collection
# -M (don't remove items when out of memory, return error instead)

# Custom configuration for Laravel/PHP usage
# Optimize for small objects (typical cache usage)
# Slab class configuration can be tuned based on usage patterns
